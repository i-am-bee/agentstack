---
title: "Build Agents"
description: "Learn how to build agents for BeeAI"
---

BeeAI can run agents built in any framework - CrewAI, LangChain, BeeAI Framework, or custom code. We recommend using our Python template as it's the fastest way to get a working BeeAI agent.

## Prerequisites

- [BeeAI Platform](/introduction/quickstart) installed
- Python 3.11 or higher
- [UV](https://docs.astral.sh/uv/) package manager

## Step 1: Set Up Your Project

Use the [official template](https://github.com/i-am-bee/beeai-platform-agent-starter):

```bash
# Clone the template (or use as GitHub template)
git clone https://github.com/i-am-bee/beeai-platform-agent-starter my-agent
cd my-agent

# Install dependencies
uv sync
```

## Step 2: Implement Your Agent Logic

Modify `src/beeai_agents/agent.py` to implement your agent:

```python
import os
from collections.abc import AsyncGenerator
from acp_sdk import MessagePart, Metadata
from acp_sdk.models import Message
from acp_sdk.server import Context, RunYield, RunYieldResume, Server

server = Server()

@server.agent(
    metadata=Metadata(ui={"type": "hands-off"})
)
async def example_agent(input: list[Message], context: Context) -> AsyncGenerator[RunYield, RunYieldResume]:
    """Polite agent that greets the user"""
    hello_template: str = os.getenv("HELLO_TEMPLATE", "Ciao %s!")
    yield MessagePart(content=hello_template % str(input[-1]))

def run():
    server.run(host=os.getenv("HOST", "127.0.0.1"), port=int(os.getenv("PORT", 8000)))

if __name__ == "__main__":
    run()
```

**Key points:**
- The function name becomes the agent ID unless overridden
- The docstring becomes the agent description in the UI
- Use `input[-1]` to get the most recent message
- Return responses using `yield MessagePart(content="text")`

<Tip>
You can define multiple agents in the same service by creating additional decorated functions.
</Tip>

## Step 3: Define Agent Metadata

Add rich metadata to improve the user experience:

```python
@server.agent(
    name="my-agent",  # Override function name as agent ID
    description="Brief description of what your agent does",  # Override docstring
    metadata=Metadata(
        # UI Configuration
        ui={
            "type": "hands-off",  # or "chat" for conversational agents
            "user_greeting": "How can I help you today?"  # Shown to users
        },
        
        # Basic Information
        framework="Custom",  # Framework used: "CrewAI", "LangChain", "BeeAI", etc.
        author={
            "name": "Your Name",
            "email": "your.email@example.com",
            "url": "https://example.com"
        },
        
        # Environment Variables (optional)
        env=[
            {
                "name": "API_KEY",
                "description": "Required API key for external service",
                "required": True
            }
        ],
        
        # Recommended model
        recommended_models=["llama3.3:70b-instruct-fp16"],
    )
)
async def my_agent(input: list[Message], context: Context) -> AsyncGenerator[RunYield, RunYieldResume]:
    """Your agent implementation"""
    user_input = str(input[-1])
    
    # Your agent logic here
    result = f"Processed: {user_input}"
    
    yield MessagePart(content=result)
```

**Agent Types:**
- `"hands-off"`: One-shot tasks (summarization, analysis, generation)
- `"chat"`: Conversational interactions with memory

## Step 4: Update Dependencies

If you need additional packages, add them to `pyproject.toml`:

```toml
dependencies = [
    "acp-sdk>=0.8.1",
    "requests>=2.31.0",      # Add your dependencies here
    "beeai-framework>=0.1.0", # BeeAI framework for advanced features
]
```

Then sync:
```bash
uv sync
```

## Step 5: Test Locally

### Start the Agent Server

```bash
uv run server
```

You should see:
```
INFO:     Uvicorn running on http://127.0.0.1:8000
```

### Test with BeeAI

In another terminal:

```bash
# List available agents (should show your agent)
beeai list

# Run your agent
beeai run my-agent "Hello world!"
```

## Step 6: Build and Deploy

### For Local BeeAI

```bash
# Build and add to your local BeeAI platform
beeai build .
beeai add my-agent:latest

# Or build from GitHub repository
beeai add https://github.com/your-username/my-agent
```

### For Hosted BeeAI

The template includes GitHub Actions that automatically build production-ready images:

```bash
# 1. Push your code to GitHub (triggers automatic build)
git push origin main

# 2. Deploy from the built container registry
beeai add ghcr.io/your-username/my-agent:latest
```

The included CI pipeline builds multi-platform images and pushes them to GitHub Container Registry automatically on every push to main.
