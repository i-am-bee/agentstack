{{-  if and .Values.auth.enabled .Values.auth.oidc.enabled -}}
apiVersion: v1
kind: Secret
type: Opaque
metadata:
  name: agentstack-oidc-providers
  labels:
    app.kubernetes.io/component: agentstack-ui
    app: agentstack-ui
stringData:
  providers.json: |
    {{- toJson .Values.auth.oidc.providers | nindent 4 -}}
{{- end }}
